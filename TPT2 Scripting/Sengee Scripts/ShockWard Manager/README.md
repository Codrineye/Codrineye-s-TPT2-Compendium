# ShockWard Manager

A management script that uses a custom overlay to help you configure which region you're using.<br>
This script uses optimal ShockWard placements on every map.<br>

# Import Package

The source code is imported in the [external editor by d0sboots](https://d0sboots.github.io/perfect-tower/).<br>
Does not include the custom overlay as the external editor does not interract with windows.

```
{"workspaces":{"Sengee Shock-Ward":[["RegionSelect-Proto",":name RegionSelect-Proto\n:budget_cap max\n\n:global int Region\n\n:local int i\n:local int inc_ID\n:local int inc_NM\n\nwakeup()\n; Sets up the window\n\nkey.z()\nkey.x()\n; Up/Down\n:const string impulse.filler \"wakeup|key.z|key.x\"\n:const string impulse.neutral \"wakeup\"\n\nkey.c()\n; Kill script\n\n:const string RegionID \"forest|desert|winter|underground|volcano|highmountain|\\\njungle|metallicruins|beach|ocean|neutral|darkrealm|heaven|universe|chaos|\"\n; \n:const string RegionName \"Forest|Desert|Winter|Underground|Volcano|High Mountain|\\\nJungle|Metallic Ruins|Beach|Ocean|Neutral|Dark Realm|Heaven|Universe|Chaos|\"\n; \n; Start Script\n; \nvisibility.set(\"RegionSelect\", contains(impulse.filler, impulse()))\ngoto(if(\\\n  visibility.get(\"RegionSelect\"),\\\n  initialized,\\\n  if(contains(impulse(), \"key.c\"), 99, create)\\\n))\ncreate:\ncreate(\"RegionSelect\", \"Proto-Region\")\n\ninitialized:\n\nRegion = if(\\\n  contains(impulse.neutral, impulse()), \\\n  max(1, Region),\\\n  if(\\\n    contains(impulse(), \"key.z\"),\\\n    (Region % 15) + 1,\\\n    if(Region == 1, 15, Region - 1)\\\n  )\\\n)\n\nloop:\n; \ninc_ID = (index(RegionID, \"|\", inc_ID) + 1) * min(1, i)\ninc_NM = (index(RegionName, \"|\", inc_NM) + 1) * min(1, i)\ni = (i + 1) % Region\ngotoif(loop, i > 0)\n\n#id_idx index(RegionID, \"|\", inc_ID) - inc_ID\nsprite.set(\\\n  \"RegionSelect\", \\\n  \"Preview\", \\\n  \"region.\" . sub(RegionID, inc_ID, {id_idx}) . \".preview\"\\\n)\n\n#name_idx index(RegionName, \"|\", inc_NM) - inc_NM\ntext.set(\\\n  \"RegionSelect\", \\\n  \"Name\", \\\n  sub(RegionName, inc_NM, {name_idx})\\\n)\n"],["ShockWard",":name ShockWard\n\n:global vector Ward1\n:global vector Ward2\n:global int Region\n\n:local vector Ward\n:local double LastWave\n:local int i\n\ngame.newround()\nkey.c()\n\ngotoif(ward_config, contains(impulse(), \"key.c\"))\nLastWave = max(wave(), 2.0)\n\nloop:\nWard = if(i == 0, Ward1, Ward2)\ni = (i + 1) % 2\nuseposition(active.index(\"spell.ward.shocking\"), Ward)\n; We wait for the shockward cooldown to expire\n; Chainging it to a waitwhile here also removes the need to negate\n; the value of isTowerTesting\n; \nwaitwhile(cooldown(active.index(\"spell.ward.shocking\")) > 0.0 && isTowerTesting())\ngoto(if(isTowerTesting() && LastWave <= wave(), loop, end))\n\n:import Editor_actions lib\n; importing this library lets me use lua to create the ternary vec2\n; sequence, so it's easier to make modifications to it\n\n{lua(\\\n  local vec = Editor_vec;\\\n  local ward1 = table.pack(\\\n    --[[positions 1 to 4]]\\\n    vec(-3.0, 3.0), vec(-3.0, 3.0), vec(-5.0, -3.0), vec(-3.0, 3.0),\\\n    --[[positions 5 to 8]]\\\n    vec(-1.0, 4.0), vec(-6.0, 0.0), vec(-4.0, -2.0), vec(-2.0, 3.0),\\\n    --[[positions 9 to 12]]\\\n    vec(-7.0, 3.0), vec(-1.0, 6.0), vec(-3.0, 3.0), vec(4.0, 1.0),\\\n    --[[positions 13 to 15]]\\\n    vec(-6.0, 0.0), vec(-4.0, 2.0), vec(-3.0, 1.0)\\\n  );\\\n  local ward2 = table.pack(\\\n    --[[positions 1 to 4]]\\\n    vec(3.0, -3.0), vec(3.0, -3.0), vec(7.0, 0.0), vec(3.0, -3.0),\\\n    --[[positions 5 to 8]]\\\n    vec(4.0, -1.0), vec(0.0, -6.0), vec(5.0, -1.0), vec(3.0, -2.0),\\\n    --[[positions 9 to 12]]\\\n    vec(-5.0, -7.0), vec(1.0, -5.0), vec(3.0, -2.0), vec(3.0, -3.0),\\\n    --[[positions 13 to 15]]\\\n    vec(8.0, 1.0), vec(4.0, -2.0), vec(3.0, -1.0)\\\n  );\\\n  --[[/*\\\n      * Start nesting, the default value is vec(0.0, 0.0) that can\\\n      * only be reached if Region has an invalid number\\\n      * \\\n      * region contains the string \"Region\", which translates to\\\n      * the lable Region when returned into the editor\\\n     */]]\\\n  local region = [[Region]];\\\n  Ward1_nest = vec(0.0, 0.0);\\\n  Ward2_nest = vec(0.0, 0.0);\\\n  --[[/*\\\n      * We will be working backwards, from region 15 to region 1\\\n      * \\\n      * The condition is the same for both ternaries, so all\\\n      * that differs are the true and false cases\\\n      * \\\n      * Since lua is a language indexed by 1,\\\n      * region 1 means i = 1\\\n     */]]\\\n  for i = 15, 1, -1 do\\\n    local cond = Editor_math(region, \"==\", i);\\\n    --[[We index the table ward1 by i]]\\\n    local case_true = ward1[i];\\\n    Ward1_nest = Editor_if(cond, case_true, Ward1_nest);\\\n    \\\n    --[[We index the table ward2 by i]]\\\n    case_true = ward2[i];\\\n    Ward2_nest = Editor_if(cond, case_true, Ward2_nest);\\\n  end\\\n)}\n\n; \n; Ward1\n; 1             |2             |3              |4             |5            |\n; vec(-3.0, 3.0)|vec(-3.0, 3.0)|vec(-5.0, -3.0)|vec(-3.0, 3.0)|vec(-1.0|4.0)|\n; 6             |7              |8             |9             |10            |\n; vec(-6.0, 0.0)|vec(-4.0, -2.0)|vec(-2.0, 3.0)|vec(-7.0, 3.0)|vec(-1.0, 6.0)|\n; 11            |12           |13            |14            |15\n; vec(-3.0, 3.0)|vec(4.0, 1.0)|vec(-6.0, 0.0)|vec(-4.0, 2.0)|vec(-3.0, 1.0)\n\n; Ward2\n; 1             |2             |3            |4             |5             |\n; vec(3.0, -3.0)|vec(3.0, -3.0)|vec(7.0, 0.0)|vec(3.0, -3.0)|vec(4.0, -1.0)|\n; 6             |7             |8             |9              |10            |\n; vec(0.0, -6.0)|vec(5.0, -1.0)|vec(3.0, -2.0)|vec(-5.0, -7.0)|vec(1.0, -5.0)|\n; 11            |12            |13           |14            |15            |\n; vec(3.0, -2.0)|vec(3.0, -3.0)|vec(8.0, 1.0)|vec(4.0, -2.0)|vec(3.0, -1.0)|\nward_config:\nWard1 = {lua(return Ward1_nest)}\nWard2 = {lua(return Ward2_nest)}\n\nend:"]]}}
```

The game import is imported in the game.

```
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
```

